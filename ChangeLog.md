2017-04-07
1.  golang/go1.8/src/net/http/transfer.go 335 - 342
```
func (t *transferWriter) WriteBody(w io.Writer) error {
...
...
	defer func() {
		if panicErr := recover(); panicErr != nil {
			if t.BodyCloser != nil {
			    t.BodyCloser.Close()
			}
			err = errors.New(panicErr.(string))
		}
	}()
...
...
```

fixed :
```
panic: bytes.Buffer: truncation out of range

goroutine 109717 [running]:
bytes.(*Buffer).Truncate(0xc420060c40, 0x0)
	/data/www/golang/go/src/bytes/buffer.go:74 +0xc1
bytes.(*Buffer).Read(0xc420060c40, 0xc4202f9000, 0x1000, 0x1000, 0xc420c5ab30, 0x110d1f5, 0xc4205466c0)
	/data/www/golang/go/src/bytes/buffer.go:267 +0xeb
io/ioutil.(*nopCloser).Read(0xc4226d45b0, 0xc4202f9000, 0x1000, 0x1000, 0x1000, 0x0, 0x0)
	<autogenerated>:1 +0x6b
io.(*LimitedReader).Read(0xc4223000a0, 0xc4202f9000, 0x1000, 0x1000, 0x1000, 0x0, 0x0)
	/data/www/golang/go/src/io/io.go:436 +0x6c
bufio.(*Writer).ReadFrom(0xc420758e40, 0x1677420, 0xc4223000a0, 0x1b2d970, 0xc420758e40, 0x1)
	/data/www/golang/go/src/bufio/bufio.go:696 +0xcd
io.copyBuffer(0x1676de0, 0xc420758e40, 0x1677420, 0xc4223000a0, 0x0, 0x0, 0x0, 0x1436d20, 0x1, 0xc4223000a0)
	/data/www/golang/go/src/io/io.go:384 +0x2cb
io.Copy(0x1676de0, 0xc420758e40, 0x1677420, 0xc4223000a0, 0xf, 0xc42208c0d0, 0x1)
	/data/www/golang/go/src/io/io.go:360 +0x68
net/http.(*transferWriter).WriteBody(0xc420064100, 0x1676de0, 0xc420758e40, 0x2, 0x2)
	/data/www/golang/go/src/net/http/transfer.go:319 +0x675
net/http.(*Request).write(0xc421478200, 0x1676de0, 0xc420758e40, 0x0, 0xc42011e1e0, 0x0, 0x0, 0x0)
	/data/www/golang/go/src/net/http/request.go:622 +0x6e9
net/http.(*persistConn).writeLoop(0xc4205466c0)
	/data/www/golang/go/src/net/http/transport.go:1707 +0x1ad
created by net/http.(*Transport).dialConn
	/data/www/golang/go/src/net/http/transport.go:1118 +0xa5a
```
	
	